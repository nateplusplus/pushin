/*!
 * Pushin.js - v2.0.0
 * Author: Nathan Blair <nate@natehub.net> (https://natehub.net)
 * License: ISC
 */(()=>{var t={307:(t,e,n)=>{"use strict";n.r(e)}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,n),o.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{n(307),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var s=(new Date).getTime(),i=Math.max(0,16-(s-t)),o=window.setTimeout((function(){e(s+i)}),i);return t=s+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),window.pushInStart=e=>{document.addEventListener("DOMContentLoaded",(function(){const n=document.querySelectorAll(e);for(let e=0;e<n.length;e++)new t(n[e]).start()}))};class t{constructor(t){this.layers=[],this.parent=t||null}start(){this.parent?(this.scrollPos=window.pageYOffset,this.getLayers(),this.bindEvents(),this.toggleLayers()):console.error("No parent element provided to pushIn.js. Effect will not be applied.")}getLayers(){const t=this.parent.getElementsByClassName("pushin-layer");if(t)for(let e=0;e<t.length;e++){const n=t[e],s=n.dataset.hasOwnProperty("pushinFrom")?n.dataset.pushinFrom:null,i=n.dataset.hasOwnProperty("pushinTo")?n.dataset.pushinTo:null,o=n.dataset.hasOwnProperty("pushinSpeed")?n.dataset.pushinSpeed:null;let a=this.parent.getBoundingClientRect().top;this.parent.dataset.hasOwnProperty("pushinFrom")&&(a=this.parent.dataset.pushinFrom);let r=this.parent.getBoundingClientRect().bottom;this.parent.dataset.hasOwnProperty("pushinTo")&&(r=this.parent.dataset.pushinTo);const l={elem:n,index:e,originalScale:this.getElementScaleX(n),params:{inpoint:s||a,outpoint:i||r,speed:o||8}};this.layers.push(l),this.setZIndex(l,t.length)}}setZIndex(t,e){t.elem.style.zIndex=e-t.index}bindEvents(){window.addEventListener("scroll",function(t){this.scrollPos=window.pageYOffset,this.dolly()}.bind(this)),window.addEventListener("touchstart",function(t){this.touchStart=t.changedTouches[0].screenY}.bind(this)),window.addEventListener("touchmove",function(t){t.preventDefault();const e=t.changedTouches[0].screenY;this.scrollPos=Math.max(this.scrollEnd+this.touchStart-e,0),this.scrollPos=Math.min(this.scrollPos,this.pageHeight-window.innerHeight),dolly()}.bind(this)),window.addEventListener("touchend",function(t){this.scrollEnd=this.scrollPos}.bind(this))}getElementScaleX(t){const e=window.getComputedStyle(t).getPropertyValue("transform");let n=1;if(e&&"none"!==e){var s=e.match(/[matrix|scale]\(([\d,\.\s]+)/);if(s&&s[1]){var i=s[1].split(", ");n=parseFloat(i[0])}}return n}dolly(){requestAnimationFrame(function(){this.toggleLayers()}.bind(this))}toggleLayers(){this.layers.forEach(function(t){this.shouldHide(t)?t.elem.classList.remove("pushin-active"):(t.elem.classList.add("pushin-active"),this.isActive(t)&&this.setScale(t.elem,this.getScaleValue(t)))}.bind(this))}isActive(t){return this.scrollPos>=t.params.inpoint&&this.scrollPos<=t.params.outpoint}shouldHide(t){let e=!0;const n=0===t.index,s=t.index+1===this.layers.length;return(n&&this.scrollPos<t.params.inpoint||s&&this.scrollPos>t.params.outpoint||!n&&!s&this.isActive(t))&&(e=!1),e}getScaleValue(t){const e=(this.scrollPos-t.params.inpoint)*(Math.min(t.params.speed,100)/100)/100;return Math.max(t.originalScale+e,0)}setScale(t,e){const n="scale("+e+")";t.style.webkitTransform=n,t.style.mozTransform=n,t.style.msTransform=n,t.style.oTransform=n,t.style.transform=n}}})()})();